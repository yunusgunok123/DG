<script lang="ts">
  import { Button, Card, Chip } from "svelte-materialify";

  export let config: Config;

  const skull = "DÌµÌÌ£iÌ¶Í„Ì¡kÌ¶Ì›ÍˆkÌ¶Ì•Ì©aÌ´ÍÌ§tÌ´ÌŒÌ­ ÌµÍÍˆeÌ¸Ì‡Ì±tÌ´ÌÌ  Ì¸Ì’Ì™oÌ¶Í Ì Ì·Í ÌÅŸÌ¸Ì‰Í•uÌ¸ÌŠÌ¬ ÌµÌ„Í…aÌ·Í˜Ì°nÌµÌƒÍ– Ì¶ÌŠÌ¯sÌ¸ÍÌ˜eÌ´Ì‰Ì¤nÌ¶Í‘ÍœiÌ´ÌÍ Ì¸Ì‡ÍkÌ´ÌŒÌ²aÌ¸ÌÌ¹mÌ¶Ì€Í‰eÌ·ÍÍ“rÌ¸ÌÌ¬aÌ¸Ì”Ì²nÌ·Ì¾Í™dÌ¶ÌŒÌaÌ´Ì€Í‡nÌ·Í†Ì» ÌµÌ¿Í…iÌ¶Í’Ì¡zÌ¶Ì”Ì¼lÌ´ÍƒÌ¯iÌ´ÌÌ¬yÌ´ÍÌ³oÌµÌ¾Ì¢rÌ¸Ì‰Ì.Ì¸ÌˆÌ»";

  let message = "";
  const endMessage = config.message + " ";
  const len = endMessage.length;
  const duration = 3000;
  const interval = Math.round(duration / len);
  let isActive = false;
  let isShown = false;

  function event() {
    for (let i = 0; i < len; i++) {
      setTimeout(() => (message = endMessage.slice(0, i) + "_"), interval * i);
    }
    setTimeout(() => (isActive = true), duration + 500);
    setTimeout(
      () => ((isActive = false), (message = ""), (isShown = true)),
      duration + 1000
    );
  }

  setTimeout(event, 1000);
</script>

<div class="main">
  <Card raised>
    <div class="padding">
      <div class="left">
        <Button fab size="small" on:click={() => alert("MesajlarÄ±ma bakama!")}
          >â«·</Button
        >
        <div class="br" />
        <div>
          <h6 class="text-h6">{config.name}</h6>
          <div class="text-caption">Ã‡evrimiÃ§i</div>
        </div>
      </div>
      <div class="br" />
      <hr />
      <div class="br" />
      <div class="center"><Chip>DÃ¼n</Chip></div>
      <div class="br" />
      <div class="left"><div class="recieve red">sjsjsjsjsj</div></div>
      <div class="br" />
      <div class="left">
        <div class="recieve red">Yunus Ã§ok mÃ¼kemmelsin.</div>
      </div>
      <div class="br" />
      <div class="right"><div class="send blue">ğŸ˜³</div></div>
      <div class="br" />
      <div class="right"><div class="send blue">Biliyorum</div></div>
      <div class="br" />
      <div class="center"><Chip>BugÃ¼n</Chip></div>
      <div class="br" />
      {#if isShown}
        <div class="right message">
          <div class="send blue">{config.message}</div>
        </div>
      {:else}
        <div class="right hidden">
          <div class="send blue">Bu gizli bir mesaj.</div>
        </div>
      {/if}
      <div class="br" />
      <div class="inline">
        <div class="grow">
          <div class="inline">
            <div>â€</div>
            <div>{message}</div>
          </div>
          <hr />
        </div>
        <div class="br" />
        <Button fab size="small" active={isActive} on:click={() => alert(skull)}
          >â«¸</Button
        >
      </div>
    </div>
  </Card>
  <div class="br" />
  <Card raised>
    <div class="padding">
      Genellikle yukarÄ±daki gibi DG kutlanÄ±yor ama farklÄ± bir ÅŸekilde kutlamak
      istedim.
    </div>
  </Card>
</div>
